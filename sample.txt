<div class="row" id="eventContainer">
    @foreach ($modules as $module)
        <div class="col-10 col-md-6 col-lg-4 my-3">
            <a href="{{ route('uploadedLessonsPage', $module['id']) }}" class="text-decoration-none">
                <div class="card h-100">
                    <div class="card-body text-muted">
                        <h3 class="card-title text-center mt-3 mb-5">{{ $module['name'] }}</h3>
                        <p class="card-text"><b>{{ $module['description'] }}</b> </p>
                    </div>
                    <div class="card-footer d-flex justify-content-center">
                        <a href="{{ route('editModulePage', $module['id']) }}"
                            class="col-3 btn btn-primary text-white text-decoration-none"><i
                                class="fa-solid fa-pen-to-square me-1"></i>Edit</a>

                        <form action="{{ route('delete#module', $module['id']) }}" method="POST"
                            id="deleteBtn{{ $module['id'] }}" class="col-3 offset-1">
                            @csrf
                            @method('delete')
                            <button type="button" class="btn btn-danger text-white "
                                onclick="confirmDelete(event, {{ $module['id'] }})"><i class="fa-solid fa-trash me-1"></i>Delete
                        </form>
                        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

                        <script>
                            document.addEventListener('DOMContentLoaded', function () {
                                const deleteBtn{{ $module['id'] }} = document.getElementById('deleteBtn{{ $module['id'] }}');
                                deleteBtn{{ $module['id'] }}.addEventListener('click', function (event) {
                                    event.preventDefault();

                                    Swal.fire({
                                        title: 'Are you sure?',
                                        text: 'You will not be able to recover this item!',
                                        icon: 'warning',
                                        showCancelButton: true,
                                        confirmButtonColor: '#d33',
                                        cancelButtonColor: '#3085d6',
                                        confirmButtonText: 'Yes, delete it!',
                                    }).then((result) => {
                                        if (result.isConfirmed) {
                                            deleteBtn{{ $module['id'] }}.submit();
                                        }
                                    });
                                });
                            });
                        </script>
                    </div>
                </div>
            </a>
        </div>
    @endforeach
</div>
